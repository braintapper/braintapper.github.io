<!doctype html> <html lang=en> <head> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <base href=/ > <title>Braintapper Knowledge Solutions, Inc.</title> <link href=manifest.json rel=manifest> <link href=https://www.braintapper.com/images/favicon.ico rel="shortcut icon" sizes="16x16 24x24 32x32 48x48 64x64"> <link href=/images/favicon_57.png rel=apple-touch-icon sizes=57x57> <link href=/images/favicon_57.png rel=apple-touch-icon-precomposed sizes=57x57> <link href=/images/favicon_72.png rel=apple-touch-icon sizes=72x72> <link href=/images/favicon_114.png rel=apple-touch-icon sizes=114x114> <link href=/images/favicon_120.png rel=apple-touch-icon sizes=120x120> <link href=/images/favicon_144.png rel=apple-touch-icon sizes=144x144> <link href=/images/favicon_152.png rel=apple-touch-icon sizes=152x152> <link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,700,900&display=swap" rel=stylesheet> <link href=client/main.510737832.css rel=stylesheet><link href=client/index.16a57498.css rel=stylesheet><link href=client/Post.7e8c3027.css rel=stylesheet> <noscript id=sapper-head-start></noscript><noscript id=sapper-head-end></noscript> </head> <body> <section id=sapper> <header class=svelte-1inl4wv> <section class=svelte-1inl4wv> <img alt="Braintapper Logo" height=96px src=images/Braintapper_Wordmark_color_2020.svg> </section> <nav class=svelte-1inl4wv> <ul class=svelte-1inl4wv> <li class="svelte-1inl4wv selected"><a href=. class=svelte-1inl4wv>Home</a></li> <li class=svelte-1inl4wv><a href=archive class=svelte-1inl4wv>Archive</a></li> <li class=svelte-1inl4wv><a href=articles class=svelte-1inl4wv>Articles</a></li> <li class=svelte-1inl4wv><a href=search class=svelte-1inl4wv>Search</a></li> <li class=svelte-1inl4wv><a href=pages/about class=svelte-1inl4wv>About</a></li> <li class=svelte-1inl4wv><a href=rss.xml class=svelte-1inl4wv target=new>RSS</a></li> </ul> </nav> </header> <section class=svelte-bqvdr0> <h1 class=svelte-55mard>Recent Blog Posts</h1> <article> <header> <h1><a href=blog/pg-forward-migrations rel=prefetch>So I Wrote a Database Migrations NPM</a></h1> <h2>December 30, 2019 by Steven Ng</h2> </header> <p>I've been working on making Docker containers of my personal Nodejs projects lately, and for those that rely on a relational database (namely Postgresql), I wanted to be able to run <a href=https://en.wikipedia.org/wiki/Schema_migration>database migrations</a> on them locally to make updates easier. To be clear, I'm not talking about <a href=https://en.wikipedia.org/wiki/Data_migration>data migrations</a>, which are a completely different thing.</p> <p>For database migrations outside of Ruby on Rails, I've been using <a href=http://www.liquibase.org/ >Liquibase</a>, and more recently, <a href=https://flywaydb.org/ >Flyway</a>. They're both perfectly fine tools, but they also require Java, which means one may need to <a href=https://www.itjungle.com/2019/04/03/ibm-clarifies-java-options-following-oracle-license-crackdown/ >consider the implications of how Java licenses work</a>.</p> <p>As it relates to migrations, I subscribe to the <a href=https://nickcraver.com/blog/2016/05/03/stack-overflow-how-we-do-deployment-2016-edition/#database-migrations>forward migrations only philosophy</a>, which means my requirements are relatively simple. All I need to do is scan a pre-specified directory of SQL files and run only the new SQL files. The onus is on me for providing clean, error-free SQL files, so I don't need to make a migration tool very smart.</p> <p>I did look at existing libraries on NPMJS, but I didn't see any having a workflow similar to Flyway, which has been my tool of choice.</p> <p>You might be getting the impression that I suffer from <a href=https://en.wikipedia.org/wiki/Not_invented_here>NIH (Not Invented Here) syndrome</a>, and you could be right. But my experience with some software is that there are always some elements that I find incredibly frustrating or incompatible with the way I work, and I end up spending significantly more time working around those issues than I would have if I had just written something from scratch.</p> <p>My NPM, named <a href=https://github.com/braintapper/pg-forward-migrations>pg-forward-migrations</a> is designed to do one very specific task well, and took a few hours to write. I spent more time figuring out how to use Liquibase the first time I used it, so in this particular case, the NIH concern is a wash.</p> <p>All this NPM does is run sequence of SQL statements against a Postgresql database. The workflow is inspired by Flyway in that it uses an easy-to-remember naming convention, and it tracks completed migrations by writing to a migration table in the target database. That's it. It's not rocket science, nor is it attempting to be a replacement for a multi-platform, enterprise-class database migration tool.</p> <p>At some point, I will probably use this NPM to create command line executable, but at the moment, it's not a priority.</p> <p>In any case, if you've got a need for a forward migration tool for Postgresql/Node, give the NPM a whirl.</p> </article><article> <header> <h1><a href=blog/welcome-to-the-new-site rel=prefetch>Welcome to the New Site</a></h1> <h2>December 29, 2019 by Steven Ng</h2> </header> <p>Well it's been a while since the site has been updated. A <em>long</em> while, actually.</p> <p>It's been a long time coming, but I forced myself over the holidays to revamp the site, and here it is.</p> <p>Things are going to be rough for a little while, as this is a work in progress, and I've opted to go live with a buggy site as opposed to leaving a placeholder page up. This should force me to iterate more quickly and more often.</p> <p>So before I rebuilt the site, I went through a lot of hand-wringing deciding how to publish this site.</p> <p>Should I use a static generator like Jekyll? A GUI type tool like MarsEdit? Should I write my own tool? Wordpress (no f-ing way)? A hosted site like Squarespace?</p> <p>I ended up choosing a hodgepodge of <a href=https://svelte.dev/ >Svelte</a> and <a href=https://sapper.svelte.dev/ >Sapper</a>, with some preprocessing using <a href=https://gulpjs.com/ >Gulp</a>. I've already been immersing myself in Svelte for the past couple of months, so I figured I may as well stick with that for my site too. Once the site is somewhat stable, I'll try to write up a blog post on what I do to build this site. TLDR; I basically write my content as markdown posts, and have a script to process them into something consumable for my Svelte app.</p> <p>The site's main focus is the blog, but I will have some evergreen content in the form of <a href=/articles>articles</a> that can help boost your productivity. I plan to publish my list of "must have" software and services, among other things.</p> <p>The blog will be mostly made up of a hodgepodge of technical topics, ranging from Cognos, Node, Database and other topics that I find interesting.</p> <p>In the meantime, click on the RSS link at the top of the page to keep up with my new content.</p> <p>Cheers!</p> </article> </section> <footer class=svelte-z3516v> <p class=svelte-z3516v>Hand crafted with <a href=https://svelte.dev/ target=new>Svelte</a>, <a href=https://sapper.svelte.dev/ target=new>Sapper</a> and <a href=https://lunrjs.com target=new>Lunr.js</a>. Hosted on <a href=https://pages.github.com/ target=new>Github Pages</a>. </p> <p class=svelte-z3516v>Copyright Â© 2019-2020 Braintapper Knowledge Solutions, Inc. <a href=/pages/about#privacy>Privacy Policy</a> </footer></section> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b,c,d,e,f){return {posts:[{title:"So I Wrote a Database Migrations NPM",tags:a,publish_date:"2019-12-30 12:00",updated_date:a,featured:b,author:c,__content:"\r\nI've been working on making Docker containers of my personal Nodejs projects lately, and for those that rely on a relational database (namely Postgresql), I wanted to be able to run [database migrations](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSchema_migration) on them locally to make updates easier. To be clear, I'm not talking about [data migrations](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FData_migration), which are a completely different thing.\r\n\r\nFor database migrations outside of Ruby on Rails, I've been using [Liquibase](http:\u002F\u002Fwww.liquibase.org\u002F), and more recently, [Flyway](https:\u002F\u002Fflywaydb.org\u002F). They're both perfectly fine tools, but they also require Java, which means one may need to [consider the implications of how Java licenses work](https:\u002F\u002Fwww.itjungle.com\u002F2019\u002F04\u002F03\u002Fibm-clarifies-java-options-following-oracle-license-crackdown\u002F).\r\n\r\nAs it relates to migrations, I subscribe to the [forward migrations only philosophy](https:\u002F\u002Fnickcraver.com\u002Fblog\u002F2016\u002F05\u002F03\u002Fstack-overflow-how-we-do-deployment-2016-edition\u002F#database-migrations), which means my requirements are relatively simple. All I need to do is scan a pre-specified directory of SQL files and run only the new SQL files. The onus is on me for providing clean, error-free SQL files, so I don't need to make a migration tool very smart.\r\n\r\nI did look at existing libraries on NPMJS, but I didn't see any having a workflow similar to Flyway, which has been my tool of choice.\r\n\r\nYou might be getting the impression that I suffer from [NIH (Not Invented Here) syndrome](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FNot_invented_here), and you could be right. But my experience with some software is that there are always some elements that I find incredibly frustrating or incompatible with the way I work, and I end up spending significantly more time working around those issues than I would have if I had just written something from scratch.\r\n\r\nMy NPM, named [pg-forward-migrations](https:\u002F\u002Fgithub.com\u002Fbraintapper\u002Fpg-forward-migrations) is designed to do one very specific task well, and took a few hours to write. I spent more time figuring out how to use Liquibase the first time I used it, so in this particular case, the NIH concern is a wash.\r\n\r\nAll this NPM does is run sequence of SQL statements against a Postgresql database. The workflow is inspired by Flyway in that it uses an easy-to-remember naming convention, and it tracks completed migrations by writing to a migration table in the target database. That's it. It's not rocket science, nor is it attempting to be a replacement for a multi-platform, enterprise-class database migration tool.\r\n\r\nAt some point, I will probably use this NPM to create command line executable, but at the moment, it's not a priority.\r\n\r\nIn any case, if you've got a need for a forward migration tool for Postgresql\u002FNode, give the NPM a whirl.\r\n",html:"\u003Cp\u003EI&#39;ve been working on making Docker containers of my personal Nodejs projects lately, and for those that rely on a relational database (namely Postgresql), I wanted to be able to run \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSchema_migration\"\u003Edatabase migrations\u003C\u002Fa\u003E on them locally to make updates easier. To be clear, I&#39;m not talking about \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FData_migration\"\u003Edata migrations\u003C\u002Fa\u003E, which are a completely different thing.\u003C\u002Fp\u003E\n\u003Cp\u003EFor database migrations outside of Ruby on Rails, I&#39;ve been using \u003Ca href=\"http:\u002F\u002Fwww.liquibase.org\u002F\"\u003ELiquibase\u003C\u002Fa\u003E, and more recently, \u003Ca href=\"https:\u002F\u002Fflywaydb.org\u002F\"\u003EFlyway\u003C\u002Fa\u003E. They&#39;re both perfectly fine tools, but they also require Java, which means one may need to \u003Ca href=\"https:\u002F\u002Fwww.itjungle.com\u002F2019\u002F04\u002F03\u002Fibm-clarifies-java-options-following-oracle-license-crackdown\u002F\"\u003Econsider the implications of how Java licenses work\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EAs it relates to migrations, I subscribe to the \u003Ca href=\"https:\u002F\u002Fnickcraver.com\u002Fblog\u002F2016\u002F05\u002F03\u002Fstack-overflow-how-we-do-deployment-2016-edition\u002F#database-migrations\"\u003Eforward migrations only philosophy\u003C\u002Fa\u003E, which means my requirements are relatively simple. All I need to do is scan a pre-specified directory of SQL files and run only the new SQL files. The onus is on me for providing clean, error-free SQL files, so I don&#39;t need to make a migration tool very smart.\u003C\u002Fp\u003E\n\u003Cp\u003EI did look at existing libraries on NPMJS, but I didn&#39;t see any having a workflow similar to Flyway, which has been my tool of choice.\u003C\u002Fp\u003E\n\u003Cp\u003EYou might be getting the impression that I suffer from \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FNot_invented_here\"\u003ENIH (Not Invented Here) syndrome\u003C\u002Fa\u003E, and you could be right. But my experience with some software is that there are always some elements that I find incredibly frustrating or incompatible with the way I work, and I end up spending significantly more time working around those issues than I would have if I had just written something from scratch.\u003C\u002Fp\u003E\n\u003Cp\u003EMy NPM, named \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbraintapper\u002Fpg-forward-migrations\"\u003Epg-forward-migrations\u003C\u002Fa\u003E is designed to do one very specific task well, and took a few hours to write. I spent more time figuring out how to use Liquibase the first time I used it, so in this particular case, the NIH concern is a wash.\u003C\u002Fp\u003E\n\u003Cp\u003EAll this NPM does is run sequence of SQL statements against a Postgresql database. The workflow is inspired by Flyway in that it uses an easy-to-remember naming convention, and it tracks completed migrations by writing to a migration table in the target database. That&#39;s it. It&#39;s not rocket science, nor is it attempting to be a replacement for a multi-platform, enterprise-class database migration tool.\u003C\u002Fp\u003E\n\u003Cp\u003EAt some point, I will probably use this NPM to create command line executable, but at the moment, it&#39;s not a priority.\u003C\u002Fp\u003E\n\u003Cp\u003EIn any case, if you&#39;ve got a need for a forward migration tool for Postgresql\u002FNode, give the NPM a whirl.\u003C\u002Fp\u003E\n",timestamp:"2019-12-30T17:00:00.000Z",year:d,month:e,month_name:f,day:30,slug:"pg-forward-migrations"},{title:"Welcome to the New Site",tags:a,publish_date:"2019-12-29 12:00",updated_date:a,featured:b,author:c,__content:"\r\n\r\nWell it's been a while since the site has been updated. A *long* while, actually.\r\n\r\nIt's been a long time coming, but I forced myself over the holidays to revamp the site, and here it is.\r\n\r\nThings are going to be rough for a little while, as this is a work in progress, and I've opted to go live with a buggy site as opposed to leaving a placeholder page up. This should force me to iterate more quickly and more often.\r\n\r\nSo before I rebuilt the site, I went through a lot of hand-wringing deciding how to publish this site.\r\n\r\nShould I use a static generator like Jekyll? A GUI type tool like MarsEdit? Should I write my own tool? Wordpress (no f-ing way)? A hosted site like Squarespace?\r\n\r\nI ended up choosing a hodgepodge of [Svelte](https:\u002F\u002Fsvelte.dev\u002F) and [Sapper](https:\u002F\u002Fsapper.svelte.dev\u002F), with some preprocessing using [Gulp](https:\u002F\u002Fgulpjs.com\u002F). I've already been immersing myself in Svelte for the past couple of months, so I figured I may as well stick with that for my site too. Once the site is somewhat stable, I'll try to write up a blog post on what I do to build this site. TLDR; I basically write my content as markdown posts, and have a script to process them into something consumable for my Svelte app.\r\n\r\nThe site's main focus is the blog, but I will have some evergreen content in the form of [articles](\u002Farticles) that can help boost your productivity. I plan to publish my list of \"must have\" software and services, among other things.\r\n\r\nThe blog will be mostly made up of a hodgepodge of technical topics, ranging from Cognos, Node, Database and other topics that I find interesting.\r\n\r\nIn the meantime, click on the RSS link at the top of the page to keep up with my new content.\r\n\r\nCheers!\r\n",html:"\u003Cp\u003EWell it&#39;s been a while since the site has been updated. A \u003Cem\u003Elong\u003C\u002Fem\u003E while, actually.\u003C\u002Fp\u003E\n\u003Cp\u003EIt&#39;s been a long time coming, but I forced myself over the holidays to revamp the site, and here it is.\u003C\u002Fp\u003E\n\u003Cp\u003EThings are going to be rough for a little while, as this is a work in progress, and I&#39;ve opted to go live with a buggy site as opposed to leaving a placeholder page up. This should force me to iterate more quickly and more often.\u003C\u002Fp\u003E\n\u003Cp\u003ESo before I rebuilt the site, I went through a lot of hand-wringing deciding how to publish this site.\u003C\u002Fp\u003E\n\u003Cp\u003EShould I use a static generator like Jekyll? A GUI type tool like MarsEdit? Should I write my own tool? Wordpress (no f-ing way)? A hosted site like Squarespace?\u003C\u002Fp\u003E\n\u003Cp\u003EI ended up choosing a hodgepodge of \u003Ca href=\"https:\u002F\u002Fsvelte.dev\u002F\"\u003ESvelte\u003C\u002Fa\u003E and \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002F\"\u003ESapper\u003C\u002Fa\u003E, with some preprocessing using \u003Ca href=\"https:\u002F\u002Fgulpjs.com\u002F\"\u003EGulp\u003C\u002Fa\u003E. I&#39;ve already been immersing myself in Svelte for the past couple of months, so I figured I may as well stick with that for my site too. Once the site is somewhat stable, I&#39;ll try to write up a blog post on what I do to build this site. TLDR; I basically write my content as markdown posts, and have a script to process them into something consumable for my Svelte app.\u003C\u002Fp\u003E\n\u003Cp\u003EThe site&#39;s main focus is the blog, but I will have some evergreen content in the form of \u003Ca href=\"\u002Farticles\"\u003Earticles\u003C\u002Fa\u003E that can help boost your productivity. I plan to publish my list of &quot;must have&quot; software and services, among other things.\u003C\u002Fp\u003E\n\u003Cp\u003EThe blog will be mostly made up of a hodgepodge of technical topics, ranging from Cognos, Node, Database and other topics that I find interesting.\u003C\u002Fp\u003E\n\u003Cp\u003EIn the meantime, click on the RSS link at the top of the page to keep up with my new content.\u003C\u002Fp\u003E\n\u003Cp\u003ECheers!\u003C\u002Fp\u003E\n",timestamp:"2019-12-29T17:00:00.000Z",year:d,month:e,month_name:f,day:29,slug:"welcome-to-the-new-site"}]}}(null,false,"Steven Ng",2019,12,"December"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.02643825.js"}catch(e){main="/client/legacy/client.b7a5d6a5.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-155117606-1"></script> <script> window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-155117606-1'); </script> 